id: 0951ab465e724722b07819fa117b5125
parent_id: 90d1143d1497414e98abc40c2c96e35c
item_type: 1
item_id: e854a50f41b745d8936e79df6c7fcf67
item_updated_time: 1617265654676
title_diff: "@@ -1,8 +1,10 @@\\n+# \\n Multi-pu\\n@@ -23,8 +23,9 @@\\n aft Spec\\n+%0D\\n"
body_diff: "@@ -0,0 +1,8005 @@\\n+## Overview%0D%0A%0D%0AThis m-NFT proposal covers the following functionalities.%0D%0A%0D%0A- Publicity of the issuer information for authentication purpose%0D%0A- *Class* definition for multiple NFT items with the same attribute%0D%0A- *Limited number* definition for pre-defined issuance count%0D%0A- *Set* definition for a suit of collectibles across different classes%0D%0A- *Claim* action supported for ticket like scenarios%0D%0A- Exchangablility, permenent lock, and self destructibility enable bits configuration%0D%0A- Inscript by holders%0D%0A- Extensible information definition%0D%0A%0D%0AThe basic m-NFT issurance logic is to create an %60Issuer Cell%60 first, which defines the issuer%E2%80%99s basic information. And then to create a %60NFT Class Cell%60 with it, which consistes of the specific information for a class of NFT items. With the %60NFT Class Cell%60, one could issue %60NFT Cell%60 to the users.%0D%0A%0D%0A%0D%0A%0D%0A!%5Bimage-20210401152047944%5D(C:%5CUsers%5Cyukai%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20210401152047944.png)%0D%0A%0D%0A%0D%0A%0D%0A## Issuer Cell%0D%0A%0D%0A### Data structure%0D%0A%0D%0A%60%60%60%0D%0AData:%0D%0A%09version: uint8%0D%0A%09class_count: uint32%0D%0A%09set_count: uint32%0D%0A%09info_size: uint16%0D%0A%09info: infomation in json format%0D%0AType:%0D%0A%09code_hash: ISSUER_TYPE%0D%0A%09args: type_id%0D%0ALock:%0D%0A%09--%0D%0A%60%60%60%0D%0A%0D%0A%60version%60 field is set to 0 for now, which indicates the data format version of this cell.%0D%0A%0D%0A%60class_count%60 field records the created class count for the issuer, which should be set to zero at creation, and auto increase when create new %60NFT Class Cells%60.%0D%0A%0D%0A%60set_count%60 is almost the same as %60class_count%60, only it is used for %60set%60 creation count.%0D%0A%0D%0A%60info%60 field is assumed to record the issuer%E2%80%99s public information, such as SNS account, images, etc. And the %60info_size%60 field should be set to the byte length of %60info%60.%0D%0A%0D%0AThe %60typescript%60 of Issuer Cell is set to %60ISSUER_TYPE%60 with args equals to %60type_id%60, where %60type_id%60 follows the same %5Brules of %60Type ID%60 script 1%5D(https://xuejie.space/2020_02_03_introduction_to_ckb_script_programming_type_id/).%0D%0A%0D%0AHere we define the %60IssuerID = issuer_cell_typescript_hash%5B:20%5D%60 for the future usage.%0D%0A%0D%0ATo make the %60info%60 field more compatible across different front-end services, here we give some suggested varible keys:%0D%0A%0D%0A- %60name%60: issuer%E2%80%99s name in UTF-8 encoding%0D%0A- %60website%60: issuer%E2%80%99s website URL%0D%0A- %60email%60: email address%0D%0A- %60authentication%60: typically an SNS announcement about the issuance%0D%0A- %60image%60: image URL for issuer%0D%0A%0D%0A## NFT Class Cell%0D%0A%0D%0AEvery NFT Class Cell stands for a group of specific NFT itmes with the same properties. And different NFT Cells issued by the same NFT Class Cell will be marked with different %60TokenID%60 as its identity.%0D%0A%0D%0A### Data Structure%0D%0A%0D%0A%60%60%60%0D%0AData:%0D%0A%09// must%0D%0A%09version: uint8%0D%0A%09total: uint32%0D%0A%09issued: uint32%0D%0A%09%3C%3Cproperty: uint64%3E%3E // replaced by nft_cell.characteristic%0D%0A%09configure: uint8%0D%0A%09name: %3Csize:uint16%3E + %3Cvartext%3E%0D%0A%09description: %3Csize:uint16%3E + %3Cvartext%3E%0D%0A%09renderer: %3Csize:uint16%3E + %3Cvartext%3E%0D%0A%09// optional data array%0D%0A%09extinfo_data: %3Csize:uint16%3E + %3Cvartext%3E%0D%0A%09extinfo_data: %3Csize:uint16%3E + %3Cvartext%3E%0D%0A%09...%0D%0AType:%0D%0A%09code_hash: NFT_CLASS_TYPE%0D%0A%09args:  %3CIssuerID:byte20%3E %7C %3Cclass_id:uint32%3E%0D%0ALock:%0D%0A%09--%0D%0A%60%60%60%0D%0A%0D%0AWhere %60typescript.args%60 equals to %60IssuerID%60 join %60class_id%60, and the %60class_id%60 is an auto-increment variable according to the %60class_count%60 variable in the Issuer Cell.%0D%0A%0D%0A%60total%60 means the issurance number limitation, zero for unlimited.%0D%0A%0D%0A%60issued%60 means the item number that already issued for this class, it%E2%80%99s also used for the NFT Cell %60TokenID%60 variable, equals to zero when initally created.%0D%0A%0D%0A%60property%60 is a user defined variable to set up the NFT characteristics, we could consider it as the DNA of the items. (It%E2%80%99s removed, and replaced by %60characteristic%60 field in the NFT Cell with the same functionality.)%0D%0A%0D%0A%60configure%60 is a bitmap variable to constrain the behavior of the NFT items issued by this Class. The bitmap meaning table follows (the bit 0 or 1 means specific functionality enabled or disable).%0D%0A%0D%0A%7C bit index %7C meaning                   %7C notes                                        %7C%0D%0A%7C :-------- %7C :------------------------ %7C :------------------------------------------- %7C%0D%0A%7C bit 0     %7C claimable                 %7C                                              %7C%0D%0A%7C bit 1     %7C lockability               %7C permanent locked permit                      %7C%0D%0A%7C bit 2     %7C inscription               %7C NFT holder could append inscript to the cell %7C%0D%0A%7C bit 3     %7C reserved                  %7C                                              %7C%0D%0A%7C bit 4     %7C exchangable before claim  %7C                                              %7C%0D%0A%7C bit 5     %7C exchangable after claim   %7C                                              %7C%0D%0A%7C bit 6     %7C destructible before claim %7C                                              %7C%0D%0A%7C bit 7     %7C destructible after claim  %7C                                              %7C%0D%0A%0D%0A%60name%60, %60description%60, and %60renderer%60 are static informational fields for the tokens. But the front-end dApps could pass some specific data to the %60renderer%60 URL, such as %60property%60 to get runtime generated rich media data.%0D%0A%0D%0AThe RFC also allows user defined %60extinfo_data%60 array to provide more information.%0D%0A%0D%0A### Creation Transaction%0D%0A%0D%0AThe %60Issuer Cell%60 must be present at the input side of the transaction, and the NFT Class Cell could be batch created.%0D%0A%0D%0A%60%60%60%0D%0AINPUT:%0D%0AIssuer_cell:%0D%0A%09Data:%0D%0A%09%09class_count: k%0D%0A%09Type:%0D%0A%09%09code_hash: ISSUER_TYPE%0D%0A%09%09args: type_id%0D%0AOUTPUT:%0D%0A%09Issuer_cell:%0D%0A%09%09Data:%0D%0A%09%09%09class_count: k + m%0D%0A%09%09Type:%0D%0A%09%09%09code_hash: ISSUER_TYPE%0D%0A%09%09%09args: type_id%0D%0A%09NFT_class_cell:%0D%0A%09%09Data:%0D%0A%09%09%09total: N_1%0D%0A%09%09%09issued: 0%0D%0A%09%09Type:%0D%0A%09%09%09code_hash: NFT_CLASS_TYPE%0D%0A%09%09%09args: IssuerID %7C %3Cclass_id = k%3E%0D%0A%09...%0D%0A%09NFT_class_cell:%0D%0A%09%09Data:%0D%0A%09%09%09total: N_m%0D%0A%09%09%09issued: 0%0D%0A%09%09Type:%0D%0A%09%09%09code_hash: NFT_CLASS_TYPE%0D%0A%09%09%09args: IssuerID %7C %3Cclass_id = k+m-1%3E%0D%0A%60%60%60%0D%0A%0D%0A## NFT Cell%0D%0A%0D%0ANFT Cell is issued by NFT Class Cell, with the same %60configure%60 and different %60TokenID%60 and %60state%60 field.%0D%0A%0D%0A### Data Structure%0D%0A%0D%0A%60%60%60%0D%0AData:%0D%0A%09// must%0D%0A%09version: uint8%0D%0A%09characteristic: byte%5B8%5D%0D%0A%09configure: uint8%0D%0A%09state: uint8 %0D%0A%09// optional%0D%0A%09extinfo_data: %3Csize:uint16%3E + %3Cvartext%3E%0D%0A%09...%0D%0AType:%0D%0A%09code_hash: NFT_TYPE%0D%0A%09args: IssuerID %7C class_id %7C TokenID%0D%0ALock:%0D%0A%09--%0D%0A%60%60%60%0D%0A%0D%0A%60configure%60 must be the same as %60nft_class_cell.configure%60. And %60state%60 is different for different NFT Cell, which is used for indication of current NFT state.%0D%0A%0D%0A%7C bit index %7C meaning     %7C note                       %7C%0D%0A%7C :-------- %7C :---------- %7C :------------------------- %7C%0D%0A%7C bit 0     %7C claim state %7C 0/1 =%3E unclaimed / claimed %7C%0D%0A%7C bit 1     %7C lock state  %7C 0/1 =%3E free / locked       %7C%0D%0A%7C other     %7C reserved    %7C %E2%80%93                          %7C%0D%0A%0D%0A%60typescript.args.IssuerID %7C class_id%60 must be the same as that of %60nft_class_cell%60, and the %60TokenID%60 field must be the issued index of %60nft_class_cell.issued%60 field.%0D%0A%0D%0A### Issuance Transaction%0D%0A%0D%0AThe typescript allows batch issuance of the NFT Cells.%0D%0A%0D%0A%60%60%60%0D%0AINPUT:%0D%0A%09NFT_class_cell:%0D%0A%09%09Data:%0D%0A%09%09%09total: N%0D%0A%09%09%09issued: %3C k %3E%0D%0A%09%09%09property: P%0D%0A%09%09%09configure: C%0D%0A%09%09Type:%0D%0A%09%09%09code_hash: NFT_CLASS_TYPE%0D%0A%09%09%09args: IssuerID %7C class_id%0D%0AOUTPUT:%0D%0A%09NFT_class_cell:%0D%0A%09%09Data:%0D%0A%09%09%09total: N%0D%0A%09%09%09issued: %3C k + m %3C= N %3E%0D%0A%09%09%09property: P%0D%0A%09%09%09configure: C%0D%0A%09%09Type:%0D%0A%09%09%09code_hash: NFT_CLASS_TYPE%0D%0A%09%09%09args: IssuerID %7C class_id%0D%0A%09NFT_cell:%0D%0A%09%09Data:%0D%0A%09%09%09configure: C%0D%0A%09%09%09state: 0 %0D%0A%09%09Type:%0D%0A%09%09%09code_hash: NFT_TYPE%0D%0A%09%09%09args: IssuerID %7C class_id %7C %3CTokenID = k%3E%0D%0A%09...%0D%0A%09NFT_cell:%0D%0A%09%09Data:%0D%0A%09%09%09configure: C%0D%0A%09%09%09state: 0 %0D%0A%09%09%09...%0D%0A%09%09Type:%0D%0A%09%09%09code_hash: NFT_TYPE%0D%0A%09%09%09args: IssuerID %7C class_id %7C %3CTokenID = k+m-1%3E%0D%0A%60%60%60%0D%0A%0D%0A## NFT Set Cell%0D%0A%0D%0AThe issuer could create NFT Set Cell to define a suit of collectible of NFT Classes.%0D%0A%0D%0A### Data Structure%0D%0A%0D%0A%60%60%60%0D%0AData:%0D%0A%09// must%0D%0A%09version: uint8%0D%0A%09set_id: uint32%0D%0A%09set_name: %3Csize:uint16%3E + %3Cvartext%3E%0D%0A%09set_description: %3Csize:uint16 + %3Cvartext%3E%0D%0A%09item_list_size: uint16%0D%0A%09item_list: %3Cclass_id:uint32%3E * item_list_size%0D%0A%09// optional%0D%0A%09extinfo_data: %3Csize:uint16%3E + %3Cvartext%3E%0D%0A%09...%0D%0AType:%0D%0A%09code_hash: NFT_SET_TYPE%0D%0A%09args: IssuerID%0D%0A%60%60%60\\n"
metadata_diff: {"new":{},"deleted":[]}
encryption_cipher_text: 
encryption_applied: 0
updated_time: 2021-04-01T08:29:37.921Z
created_time: 2021-04-01T08:29:37.921Z
type_: 13