# A Practical Liquidity-Sensitive Automated Market Maker

自动做市商是一种算法代理，能够参与数字市场并获取信息。它们已经被广泛、成功地应用于人造货币环境中，比如网络预测市场。文献中的自动做市商存在两个问题，这两个问题导致了它们的不切实际，并削弱了它们在人为货币设置之外的使用：

1. **他们不能适应流动性，因此导致价格在交易量大和交易量小的市场上变动相同。**

2. **在某些情况下，它们会出现赤字。**

在本文中，我们构建了一个既对流动性敏感又能盈利的做市商。我们的做市商对任何初始流动性水平的损失都是有限的，当初始流动性水平趋于零时，最坏情况下的损失也趋于零。对于任何初始流动性水平，我们可以在市场状态空间中建立一个边界，这样，如果市场在该边界内终止，做市商无论实现的结果如何，都将记入利润。

自动做市商在流动性比较低的市场中充当一个对手盘，同时在复杂环境下，AMM 也是必要的，比如组合预测市场中，有64个球队，那么结果就有 2^63 个。

**LMSR 中的流动性是在做市商知道交易员将押注什么之前预先设定的一个参数。** 

流动性过少会导致每次交易后价格大幅波动；过多会使价格几乎没有变动，即使是在大赌注之后。雪上加霜的是，LMSR 中一个固定押注的价格变动量是恒定的。第 10 亿美元和第 1 亿美元对价格的影响是一样的。这不是真正的货币市场的表现方式；像热门股票这样交易频繁的资产，买卖价差正在消失，进入或退出大仓位的能力不会对当前价格产生重大影响，而像精品债券这样交易清淡的资产则有巨大的交易成本。

流动性对交易员有利，但代价是增加做市商的最坏损失。**一般来说，LMSR 运营商的损失与其提供的流动性成比例。**这种成本被合理化为对交易者信息的支付。

在本文中，我们将介绍 LMSR 的一种变体，它在两方面更适合于实际使用：

1. 首先，我们的做市商会根据看到的交易活动的多少，自动调整价格变动的容易程度：随着更多美元流入，价格弹性会降低。市场经营者不需要试图预测交易员的兴趣水平来手动设定流动性。
2. 其次，我们的做市商可以确保在最坏情况下的任意小损失，并在很大范围的最终状态下获得正利润。

**在 LMSR 中，不相交资产的价格总和总是恰好为 $1**。在我们的做市商中，价格之和可以大于1美元。但是，我们证明了对于所有对流动性敏感且与路径无关的做市商，放弃总和属性是一项理论要求

- 定价规则的三个必要条件

  - A convex pre-image（凸原像）

    - 凸性确保交易员可以将该投资组合的任何部分卖回给做市商，并且仍然有确定的价格。

  - Monotonicity（单调性）

  - Appropriately surjective（适当满射）

    - 每一个 y 都必有至少一个 x 与之对应

    ![image-20210621221026204](https://raw.githubusercontent.com/Whisker17/ImageStoreService/main/image-20210621221026204.png)

- LSMR 的不可能三角

  - **Path Independence**（路径独立）

    - 市场从一个状态转化到另一个状态的任何方式都会给交易者带来相同的支付成本
    - 如果交易的每条分段平滑闭合曲线都是预算平衡的，则定价规则p是路径独立的
    - 在一般的做市商中，由于存在价格浮动，所以不同的交易会影响这些做市商的内部状态，它们可能是路径依赖的。
    - 路径独立性提供了三个好处：
      - 确保不存在资金泵（因为交易者不能再不承担一定风险的情况下进行一系列交易并获利）
      - 提供了状态的最低表示（我们只需要知道数量向量）
      - 交易者不需要制定交易策略（多笔小额交易和一笔等额大单交易是一样的）

  - **Liquidity Sensitive** （流动性敏感）

    - 对流动性的敏感性是一件好事，因为它与我们希望市场运作的方式在直觉上是一致的：小型投资对高(流动性)市场的价格影响小于低(流动性)市场
    - 我们也可以从贝叶斯的角度来考虑敏感性。第1000次抛硬币得到正面概率的后验概率比第一次抛硬币得到正面概率的后验概率要小得多。这是因为，在抛1000次之后，我们已经有了大量关于硬币正面朝上概率的信息。同样，如果我们有大量关于合约(深度市场)的客观价格的信息，在市场上的小额押注不会对价格产生太大影响。

  - **Non Arbitrage** （无套利）

    - 如果对于所有结果 q 来说，满足：
    
      ![image-20210622111329467](https://raw.githubusercontent.com/Whisker17/ImageStoreService/main/image-20210622111329467.png)
    
      则说明这个定价规则是无套利的。
    
    - 大多数预测市场是不保留无套利性质的，因为无套利定价规则确保只要最终市场价格优于初始市场价格，做市商就会亏损
    
    - 无套利规则将价差缩小到零，使做市商面临报价没有任何上行空间的负面下行风险。
    
    - 无套利条件保证没有交易者可以通过承担低于支付的保证支付来套利（无风险地利用）做市商。
    
    - 无套利定价规则最直接的好处是，它保留了一个事件的价格和该事件发生的概率之间的直接换算。价格和概率都是非负的，并且(当完全分割时)总和将是一个单位。
    
    - 无套利规则也保证了“单一价格法则”，如果两个投注在所有状态提供相同的支付，它们将有相同的价格。因此，这一条件也可以被视为市场中有效信息聚合的必要条件。
    
    ![image-20210621221323215](https://raw.githubusercontent.com/Whisker17/ImageStoreService/main/image-20210621221323215.png)

- 对于不可能三角，Hanson 以及大部分公司选择的都是 `Path Independence` 和 `Non Arbitrage`


id: 82a9e502dd8247a19627d7a1c072f50b
parent_id: 69c408ac4e0f4e84b2948bf79c77e89b
created_time: 2021-06-19T11:39:18.175Z
updated_time: 2021-06-22T04:00:51.315Z
is_conflict: 0
latitude: 0.00000000
longitude: 0.00000000
altitude: 0.0000
author: 
source_url: 
is_todo: 0
todo_due: 0
todo_completed: 0
source: joplin-desktop
source_application: net.cozic.joplin-desktop
application_data: 
order: 0
user_created_time: 2021-06-19T11:39:18.175Z
user_updated_time: 2021-06-22T04:00:51.315Z
encryption_cipher_text: 
encryption_applied: 0
markup_language: 1
is_shared: 0
type_: 1