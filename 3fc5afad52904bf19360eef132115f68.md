# LSD-LMSR

![image-20210616091806332](https://raw.githubusercontent.com/Whisker17/ImageStoreService/main/image-20210616091806332.png)

## 简介

自动做市商 （AMM） 使用户的交易变得更容易，因为它们消除了交易对手方的需要。 AMM 不再是一个用户的点对点交易，而是一个用户和合约的交易。
AMM 由一个程序化的成本函数确定的价格持续提供买入和卖出功能。最初的 AMM 是基于市场评分规则（MSR）的，但是在最近的加密货币市场中，诸如恒定乘积成本函数之类的方案得到了更广泛的应用。

Zeitgeist 一直致力于对 MSR 类的 AMM 进行重新审视，特别是对数市场评分规则（LMSR），这是由 Robin Hanson 通过他自己在预测市场和经济学领域的研究发明的，通过对其研究以找到适合我们需求的 AMM。LSMR 自最初提出以来，几位作者提出了对其基本公式的几种变种，同时存在有大量可用的资料可参考。
我们梳理了相关文献，并将 LMSR 与加密领域中流行的产物进行了比较。得出了一种 LMSR 的新变体，我们称之为 LSD-LMSR。
在研究过程中，我们将探索市场评分规则的不同变体，展示与我们的用例上下文相关的利弊。最后，我们将展示我们自己的模型，流动性敏感动态 LMSR，根据它的主要特征和论据，我们认为它是一个很好的评分规则，是一个很好的选项。正如我们在后文将看到的，我们做出的主要改进是可以使用内生变量动态调整其费用。

## LMSR：基础介绍

当您处于预测市场时，做市商需要对市场做出两个基本决策：

- **合约类型的选择**
- **市场机制**

由于合约类型不是我们本次的重点，我们暂且不谈。而市场机制作为剩下的一个基本决策定义了市场参与者的交易如何进行。 Robin Hanson 提出了一个市场评分规则，或称为 “顺序共享评分规则” ，它要求市场参与者提供连续的预测，这个规则就像一个自动做市商，不断地根据价格函数定义的价格买卖合约。在预测市场使用的几种评分规则中，对数市场评分规则最受欢迎。这个评分规则给予人们经济激励，让他们对未来的事件发表真实的意见。
LMSR 的成本和价格函数是迄今为止出售的每种结果的股份净额的函数。对于每个结果都有一个市场上股票数量 q 的向量，成本函数为：

![image-20210616114148224](https://raw.githubusercontent.com/Whisker17/ImageStoreService/main/image-20210616114148224.png)

如果我们对成本函数 C(q) 进行推导，我们将得到价格函数（是一个求导的关系），但我们将用这个函数来说明这一点。 b 这个参数作为一种 “流动性参数” ，是市场开始之前手动设置的。 尽管如此，像 Lekwijit 等学者表明，该参数不仅影响流动性参数，还影响做市商将承担的最大损失和价格的适应性。 举个例子：较小的 b 代表低市场流动性。 这意味着市场价格会波动很大，我们将拥有一个适应性更强的市场。 另一方面，b 较大的情况下做市商的最大损失较小， 那为什么呢？

因为市场变化越大，交易者对最终结果就越不确定。 所有这些都应该告诉我们，为固定参数执行这么多重要任务并不是我们可以采取的最佳策略。

## LS-LMSR：曙光初现

Othman 和 Sandholm 提出了一种提高流动性参数的有趣方法，他们指出价格规则不能同时具有路径独立性、非套利性和流动性敏感度。

![表示 MSR 的特征。正如我们所说的，这三个需求代表了一个三难困境](https://raw.githubusercontent.com/Whisker17/ImageStoreService/main/image-20210616113934411.png)

因此，他们提出了一个流动性系数，该系数取决于 alpha 系数和市场规模（市场上交易的合约数量的总和）。

![image-20210616114135822](https://raw.githubusercontent.com/Whisker17/ImageStoreService/main/image-20210616114135822.png)

其中 𝛼 是一个固定参数。然而，作者已经表明这带来了一个内在的问题：**如果在大量交易已经发生之后发生跳跃，这种机制对基础价值的适应非常缓慢。**
让我们考虑一下：据作者所说，这个模型的主要成本是为初始状态播种资金。同时，市场运营者不使用任何外部信息或过去的价格信息来做决定。此外，如果我们考虑一下，之前的模型因参数固定而受到批评，而在这个模型中，我们添加了一个新参数，但乘以另一个固定参数。在这个规则的使用下，我们依旧面临无法从市场中捕捉变化信号并对其进行适应的问题，一旦其发生，则需要手动调整参数。如果是针对那些同时存在比较少数量的市场的情况，这可以是一种选择，但这并不符合我们的情况。这就是为什么有必要继续寻找允许自动且动态调整的规则（“自动”是指无需手动修改即可更改参数的能力。）适应这些变化。
为此，我们需要继续寻找能够动态更改费用的功能。

## 动态做市商

直到这一刻，我们已经了解了静态确定费用的模型：他们收取固定费用并保持不变。他们感知到市场以某种方式发生变化的信号，AMM 会调整其行为（参数）。由于多种原因，这效率低下，我们在这里只说两点：

1. **参数的变化是离散的。**只有当算法感知到市场结构的重大变化时，它们才会发生变化。
2. 他们提出做市商事后调整，意味着在这个变化（价格暴涨，突然的信息影响等）发生后参数会发生变化，所以调整是为了未来的结果，但他们无法解决瞬时影响。

出于以上原因，我们最终找到了一种由 Kguyen、Luu 和 Ng[2021] 提出的动态做市商 （DMM）方案。他们提出了一种向做市商增加动态费用的方法。该方案在本文提出前依旧是新的。首先，他们计算池中两种资产的价格之间的相关性。这将显示它们彼此之间的相似程度。在此之后，将根据参数的相关性提供参数列表（考虑到较低的相关性意味着较高的差异）。提供的参数之一是资产的初始费用。除此之外，还要计算动态费用，这取决于一些可变因素，例如**价格**或**交易量**。作者使用了短期和长期的交易量之间的比率，我认为这是一个不错的选择，因为是链上数据（我们使用交易量，但有计算短期和长期指数移动均线的变体，以便我们更加重视较新的观察结果）。
基于此模型，您可以提供费用的连续变化，主要是它通过增加费用（以及出价）来阻止高波动时期的交易（当交易者由于价格差异的可能性而倾向于赚取市场利润时） /ask spread）并通过降低费用来鼓励低波动时期的交易。

## 检查点

到目前为止，我们已经展示了三个模型，我们希望 MSR 具有三个强大的类别：
- 坚固可靠的结构 （LMSR）。
- 适应流动性变化的可能性（LS-LMSR）。
- 调整利率以能够适当地激励或阻止交易的可能性（DMM）。

基于这三个特征，我们将产生我们自己的 MSR：流动性敏感动态 LMSR

## LSD-LSMR：原力觉醒

在我们开始定义我们的模型之前，我们需要澄清一件事：**为什么了解流动性、波动性及其关系很重要？**在此我们必须做出重要澄清：在谈论池中流动性的增加时，我们直接将其与池中资产数量的增加联系起来。一个不充分的观察是，在我们之前可以看到的作品中，池中的资产数量通常被称为存量变量，但没有考虑使其变化的流量。这是什么意思？举个例子，如果我们有一个有水的水池，我们想把它填满，我们只考虑它在一定时期内的水位，而没有考虑它的流速。它正在填充，或者考虑到它有泄漏的可能性，导致在此过程中损失一定量的水。继续类比，随着填充流量和池的体积更大，现有的泄漏往往更大，因此该做市商试图通过对改变池水平（输入和池）的流量征收更高的费用来减少泄漏的可能性。输出）。因此，从更技术的角度来看，波动性与流量有关，但流动性是其差异（存量）的结果。要记住的另一件事是交易者有可能利用流量不规则。我们正在谈论套利机会。这为更有经验的交易者带来了利润，但对流动性提供者造成了损失。这就是为什么制定一个规范流量的市场评分规则很重要的原因。说完这些，我们将继续我们的模型。

该模型从LS-LMSR开始，其成本函数如下：

![image-20210616123918340](https://raw.githubusercontent.com/Whisker17/ImageStoreService/main/image-20210616123918340.png)

![image-20210616123932148](https://raw.githubusercontent.com/Whisker17/ImageStoreService/main/image-20210616123932148.png)

就像我们之前说的，这个模型包含一个价值，可以解释为做市商收取的佣金。 越大，佣金越大。 将此参数设为固定值意味着至少在出现此问题时，此模型不会考虑价格冲击或结构变化（例如，资产具有显着的技术改进，使其变得非常有趣，增加其交易量） 发生，然后做市商必须调整其参数。 出于这个原因，我们提出了一个由 2 个因素组成的参数，

![image-20210616123957901](https://raw.githubusercontent.com/Whisker17/ImageStoreService/main/image-20210616123957901.png)

其中 是初始固定费用，是表示取决于 r 参数的费用可变部分的函数。 让我们更多地了解这两个。
这些值遵循动态做市商的属性，其中将取决于将位于池中的资产之间的预先存在的关系：相关性越高，此费用越低。 是一个函数，由t周期内资产量的指数移动平均线与t+k周期的EMA的比率组成

id: 3fc5afad52904bf19360eef132115f68
parent_id: 702275d4a3a84c46aabb81c01ccc7c33
created_time: 2021-06-16T01:17:53.438Z
updated_time: 2021-06-18T07:03:22.094Z
is_conflict: 0
latitude: 0.00000000
longitude: 0.00000000
altitude: 0.0000
author: 
source_url: 
is_todo: 0
todo_due: 0
todo_completed: 0
source: joplin-desktop
source_application: net.cozic.joplin-desktop
application_data: 
order: 0
user_created_time: 2021-06-16T01:17:53.438Z
user_updated_time: 2021-06-18T07:03:22.094Z
encryption_cipher_text: 
encryption_applied: 0
markup_language: 1
is_shared: 0
type_: 1